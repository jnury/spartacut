<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:SpartaCut.Core.ViewModels"
             xmlns:icons="using:Material.Icons.Avalonia"
             x:Class="SpartaCut.Controls.PlayerControlsOverlay"
             x:DataType="vm:MainWindowViewModel"
             x:CompileBindings="False">

    <!-- Player Controls Bar -->
    <Border Height="48"
            Background="#2D2D30"
            Name="ControlsContainer">
        <Grid Margin="12,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/> <!-- Play/Pause -->
                <ColumnDefinition Width="Auto"/> <!-- Stop -->
                <ColumnDefinition Width="Auto"/> <!-- Skip Back -->
                <ColumnDefinition Width="Auto"/> <!-- Skip Forward -->
                <ColumnDefinition Width="*"/>    <!-- Spacer -->
                <ColumnDefinition Width="Auto"/> <!-- Timecode -->
                <ColumnDefinition Width="Auto"/> <!-- Mute -->
                <ColumnDefinition Width="Auto"/> <!-- Volume Slider -->
            </Grid.ColumnDefinitions>

            <!-- Play/Pause Button -->
            <Button Grid.Column="0"
                    Width="36" Height="36"
                    Margin="0,0,4,0"
                    Background="Transparent"
                    BorderThickness="0"
                    Command="{Binding PlayCommand}"
                    IsVisible="{Binding !IsPlaying}"
                    ToolTip.Tip="Play">
                <icons:MaterialIcon Kind="Play" Width="24" Height="24" Foreground="White"/>
            </Button>

            <Button Grid.Column="0"
                    Width="36" Height="36"
                    Margin="0,0,4,0"
                    Background="Transparent"
                    BorderThickness="0"
                    Command="{Binding PauseCommand}"
                    IsVisible="{Binding IsPlaying}"
                    ToolTip.Tip="Pause">
                <icons:MaterialIcon Kind="Pause" Width="24" Height="24" Foreground="White"/>
            </Button>

            <!-- Stop Button -->
            <Button Grid.Column="1"
                    Width="36" Height="36"
                    Margin="0,0,4,0"
                    Background="Transparent"
                    BorderThickness="0"
                    Command="{Binding StopCommand}"
                    ToolTip.Tip="Stop">
                <icons:MaterialIcon Kind="Stop" Width="24" Height="24" Foreground="White"/>
            </Button>

            <!-- Skip Back 10s -->
            <Button Grid.Column="2"
                    Width="36" Height="36"
                    Margin="0,0,4,0"
                    Background="Transparent"
                    BorderThickness="0"
                    Command="{Binding Skip10SecondsBackwardCommand}"
                    ToolTip.Tip="Skip 10s Back">
                <icons:MaterialIcon Kind="Undo" Width="24" Height="24" Foreground="White"/>
            </Button>

            <!-- Skip Forward 10s -->
            <Button Grid.Column="3"
                    Width="36" Height="36"
                    Margin="0,0,4,0"
                    Background="Transparent"
                    BorderThickness="0"
                    Command="{Binding Skip10SecondsForwardCommand}"
                    ToolTip.Tip="Skip 10s Forward">
                <icons:MaterialIcon Kind="Redo" Width="24" Height="24" Foreground="White"/>
            </Button>

            <!-- Timecode Display -->
            <TextBlock Grid.Column="5"
                       Text="{Binding CurrentTimeDisplay}"
                       FontFamily="Consolas,Courier New,monospace"
                       FontSize="13"
                       Foreground="White"
                       VerticalAlignment="Center"
                       Margin="0,0,12,0"/>

            <!-- Mute Button -->
            <Button Grid.Column="6"
                    Width="36" Height="36"
                    Margin="0,0,4,0"
                    Background="Transparent"
                    BorderThickness="0"
                    Command="{Binding ToggleMuteCommand}"
                    ToolTip.Tip="Mute/Unmute">
                <icons:MaterialIcon Kind="{Binding IsMuted, Converter={StaticResource MuteIconConverter}}"
                                    Width="24" Height="24" Foreground="White"/>
            </Button>

            <!-- Volume Slider -->
            <Slider Grid.Column="7"
                    Width="100"
                    Minimum="0"
                    Maximum="1"
                    Value="{Binding Volume, Mode=TwoWay}"
                    VerticalAlignment="Center"/>
        </Grid>
    </Border>
</UserControl>
